{"version":3,"sources":["webpack:///webpack/bootstrap 4e98247fcbc2b26a2297","webpack:///./src/render/index.ts","webpack:///./src/render/style.ts","webpack:///./src/index.ts","webpack:///./src/manager.ts","webpack:///./src/canvas/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4e98247fcbc2b26a2297","import { mixin, mixedFn, mixinFunction } from \"../mixin\";\r\nimport { Padding, Margin, Unit, FlexAlign, UnitType } from \"./style\";\r\n\r\nclass InheritableStyle {\r\n    isInherit: boolean = false\r\n}\r\ninterface FlexItemable {\r\n    flex: number\r\n    // alignItems: FlexAlign\r\n    notifyFlexChange (val: number) : void\r\n}\r\n\r\ninterface Gridable {\r\n    x: number,\r\n    y: number,\r\n    globalX: number,\r\n    globalY: number,\r\n}\r\ninterface IsContainable {\r\n    isContainable () : boolean\r\n}\r\nexport interface Objectable extends IsContainable {\r\n    destory () : void\r\n    addParent (parent: Containable) : void\r\n    removeParent () : void\r\n}\r\n\r\nexport interface Selectable {\r\n    select (key: string) : Renderer | Renderer[] | null\r\n}\r\n\r\n\r\nexport interface Containable extends Objectable {\r\n    addChild (child: Renderer) : void\r\n    removeChild (child: Renderer) : void\r\n    removeChildren () : void\r\n}\r\n\r\n\r\nexport type Renderer = Objectable | Containable\r\n\r\n// interface Elementable {\r\n//     element\r\n// }\r\n\r\n\r\nexport interface Styleable {\r\n    layout () : void\r\n    draw () : void\r\n    computeStyle () : void\r\n    changeStyle () : void\r\n    // changeLayout () : \r\n}\r\n\r\n\r\nfunction select (key: string, obj: RenderContainer) : Renderer[] | Renderer | null {\r\n    return null\r\n}\r\nfunction getKeys<T, K extends keyof T> (o: T): K[] {\r\n    return Object.keys(o).map(k => k as K)\r\n}\r\nfunction getProperty <T, K extends keyof T> (o: T, key: K): T[K] {\r\n    return o[key]\r\n}\r\nfunction setProperty <T, K extends keyof T> (o: T, key: K, newValue: T[K]): T[K] {\r\n    return o[key] = newValue\r\n}\r\nexport interface ObjectCons {\r\n    id?: string,\r\n    class?: string,\r\n    width?: Unit,\r\n    height?: Unit,\r\n    flex?: number,\r\n}\r\n\r\n// text, image, background, border\r\n\r\nexport interface ContainerCons extends ObjectCons {\r\n    children?: Renderer[],\r\n}\r\n\r\nexport class RenderObject implements Objectable, Styleable, Gridable {\r\n    id: string = ''\r\n    padding: Padding = new Padding\r\n    margin: Margin = new Margin\r\n    x: number = 0\r\n    y: number = 0\r\n    globalX: number = 0\r\n    globalY: number = 0\r\n    width: Unit = new Unit('auto')\r\n    height: Unit = new Unit('auto')\r\n    computedWidth: Unit = new Unit('auto')\r\n    computedHeight: Unit = new Unit('auto')\r\n    classNames: string[] = []\r\n    protected parent: RenderContainer | null = null\r\n    constructor (cons?: ObjectCons) {\r\n        if (cons) {\r\n            if (cons.id) this.id = cons.id\r\n            if (cons.class) this.classNames.push(cons.class)\r\n            if (cons.height) this.computedHeight = this.height = cons.height\r\n            if (cons.width) this.computedWidth = this.width = cons.width\r\n        }\r\n    }\r\n    addParent (parent: RenderContainer) {\r\n        this.parent = parent\r\n    }\r\n    removeParent () {\r\n        this.parent = null\r\n        throw new Error('w')\r\n    }\r\n    isContainable () {return false}\r\n    layout () {\r\n        // this.globalX = this.x\r\n        // this.globalY = this.y\r\n    }\r\n    draw () {}\r\n    destory () {}\r\n    changeStyle () {}\r\n    inheritStyle<T> (parent: T, current: T, computed: T) {\r\n        getKeys(parent).forEach(key => {\r\n            const currentStyle = getProperty(current, key)\r\n            const parentStyle = getProperty(parent, key)\r\n            if (typeof currentStyle == 'string' && currentStyle == 'inherit') {\r\n                // console.log(computed)\r\n                setProperty(computed, key, parentStyle)\r\n            }\r\n        })\r\n    }\r\n    computeStyle () {\r\n        \r\n    }\r\n}\r\n\r\n// interface Layout {\r\n//     padding: Padding\r\n//     margin: Margin\r\n//     width: Unit\r\n//     height: Unit\r\n// }\r\n// interface FlexLayout {\r\n//     direction: FlexDirection\r\n// }\r\n\r\nexport class FlexItem extends RenderObject implements FlexItemable {\r\n    private _flex: number = 0\r\n    get flex () {\r\n        return this._flex\r\n    }\r\n    set flex (val: number) {\r\n        this.notifyFlexChange(val - this._flex)\r\n        this._flex = val\r\n    }\r\n    notifyFlexChange (change: number) {\r\n        if (this.parent) {\r\n            const p = this.parent as FlexContainer\r\n            p.flexItemSpaceChange(change)\r\n        }\r\n    }\r\n    constructor (cons?: ObjectCons) {\r\n        super(cons)\r\n        if (cons) {\r\n            if (cons.flex) this.flex = cons.flex\r\n            else this.flex = 1\r\n        }\r\n        else this.flex = 1\r\n    }\r\n}\r\n\r\nexport class RenderContainer extends FlexItem implements Containable, Selectable {\r\n    protected type: ContainerType = ContainerType.Flex\r\n    protected children: Renderer[] = []\r\n    constructor (cons?: ContainerCons) {\r\n        super(cons)\r\n        if (cons && cons.children) {\r\n            cons.children.forEach(child => {\r\n                this.addChild(child)\r\n            })\r\n        }\r\n    }\r\n    map<T extends Renderer> (cb: (item: T, index: number) => T) : T[] {\r\n        return this.children.map((item, index) => {\r\n            const i = item as T\r\n            cb.call(this, i, index)\r\n            return i\r\n        })\r\n    }\r\n    forEach<T extends Renderer> (cb: (item: T, index: number) => void) : void {\r\n        this.children.map((item, index) => {\r\n            const i = item as T\r\n            cb.call(this, i, index)\r\n        })\r\n    }\r\n    addChild (child: Renderer) {\r\n        this.children.push(child)\r\n        child.addParent(this)\r\n    }\r\n    isContainable () {return true}\r\n    removeChild (child: Renderer) {\r\n        this.children = this.children.filter(item => item != child)\r\n    }\r\n    removeChildren () {\r\n        this.children.forEach(child => {\r\n            child.removeParent()\r\n        })\r\n        this.children = []\r\n    }\r\n    select (key: string) : Renderer[] | Renderer | null {\r\n        return select(key, this)\r\n    }\r\n\r\n}\r\nenum ContainerType {\r\n    None = 'none',\r\n    Flex = 'flex',\r\n    Absolute = 'absolute',\r\n}\r\n\r\nenum FlexDirection {\r\n    Vertical = 'vertical',\r\n    Horizontal = 'horizontal',\r\n}\r\nexport interface FlexContainerCons extends ContainerCons {\r\n    children?: FlexItem[]\r\n    alignItems?: FlexAlign\r\n    justifyContent?: FlexAlign\r\n}\r\ninterface FlexContainable {\r\n    flexItemSpaceChange (val: number) : void\r\n}\r\nexport class FlexContainer extends RenderContainer implements FlexContainable {\r\n    protected type: ContainerType = ContainerType.Flex\r\n    protected direction: FlexDirection = FlexDirection.Horizontal\r\n    protected flexSum: number = 0\r\n    alignItems: FlexAlign = FlexAlign.Strech\r\n    justifyContent: FlexAlign = FlexAlign.Start\r\n    constructor (cons?: FlexContainerCons) {\r\n        super(cons)\r\n        if (cons) {\r\n            if (cons.alignItems) {\r\n                this.alignItems = cons.alignItems\r\n            }\r\n            if (cons.justifyContent) {\r\n                this.justifyContent = cons.justifyContent\r\n            }\r\n        }\r\n        // init flex sum\r\n        this.forEach<FlexItem>(item => this.flexSum += item.flex)\r\n    }\r\n    layout () {\r\n        this.forEach<RenderObject>((child, index) => {\r\n            if (this.direction == FlexDirection.Horizontal) {\r\n                child.globalX = child.x + this.globalX\r\n                child.globalY = this.globalY\r\n            } else {\r\n                child.globalY = child.y + this.globalY\r\n                child.globalX = this.globalX\r\n            }\r\n        })\r\n    }\r\n    computeStyle () {\r\n        super.computeStyle()\r\n        // TODO: 优化算法\r\n        // let flexSum = this.flexSum\r\n        const specifiedSpaces: Unit[] = [new Unit(0)]\r\n        this.forEach<FlexItem>((child, index) => {\r\n            // flexSum += child.flex\r\n            if (this.direction == FlexDirection.Horizontal && child.width.type != UnitType.Auto) {\r\n                specifiedSpaces.push(child.width)\r\n                child.computedWidth = child.width\r\n                child.flex = 0\r\n            } else if (this.direction == FlexDirection.Vertical && child.height.type != UnitType.Auto) {\r\n                specifiedSpaces.push(child.height)\r\n                child.computedHeight = child.height\r\n                child.flex = 0\r\n            }\r\n        })\r\n        let flow = 0\r\n        this.forEach<FlexItem>((child, index) => {\r\n            const compute = (main: Unit, sub: Unit, parentMain: Unit, parentSub: Unit, origin: Unit, originSub: Unit) => {\r\n                if (origin.type == UnitType.Auto) {\r\n                    main.copy(Unit.mul(new Unit(child.flex / this.flexSum), Unit.sub(parentMain, ...specifiedSpaces) ))\r\n                }\r\n                if (this.alignItems == FlexAlign.Strech) {\r\n                    if (originSub.type == UnitType.Auto) {\r\n                        sub.copy(parentSub)\r\n                    }\r\n                }\r\n                flow += main.value\r\n            }\r\n            if (this.direction == FlexDirection.Horizontal) {\r\n                child.x = flow\r\n                compute(child.computedWidth, child.computedHeight, this.computedWidth, this.computedHeight, child.width, child.height)\r\n            }\r\n            else if (this.direction == FlexDirection.Vertical) {\r\n                child.y = flow\r\n                compute(child.computedHeight, child.computedWidth, this.computedHeight, this.computedWidth, child.height, child.width)\r\n            }\r\n        })\r\n    }\r\n    addChild (child: FlexItem) {\r\n        super.addChild(child as Renderer)\r\n    }\r\n    flexItemSpaceChange (val: number) {\r\n        this.flexSum += val\r\n    }\r\n}\r\nclass Row extends FlexContainer {\r\n    protected readonly direction: FlexDirection = FlexDirection.Horizontal\r\n}\r\n\r\nclass Column extends FlexContainer {\r\n    protected readonly direction: FlexDirection = FlexDirection.Vertical\r\n}\r\n\r\n\r\ninterface RootCons extends FlexContainerCons {\r\n    width: Unit,\r\n    height: Unit,\r\n}\r\n\r\nexport class RootContainer extends FlexContainer {\r\n    protected readonly direction: FlexDirection = FlexDirection.Vertical\r\n    constructor (cons: RootCons) {\r\n        super(cons as ObjectCons)\r\n        this.computedWidth = this.width = cons.width\r\n        this.computedHeight = this.height = cons.height\r\n    }\r\n}\r\n\r\nexport class AbsoluteRenderContainer extends FlexContainer {\r\n    type: ContainerType = ContainerType.Absolute\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/index.ts","\r\n\r\nexport enum BorderType {\r\n    Solid = 'solid',\r\n    Dashed = 'dashed',\r\n}\r\n\r\n\r\nexport enum FlexAlign {\r\n    Center = 'center',\r\n    Start = 'start',\r\n    End = 'end',\r\n    Strech = 'strech',\r\n}\r\nexport enum UnitType {\r\n    PX =  'px',\r\n    REM = 'rem',\r\n    Percent = 'percent',\r\n    Auto = 'auto',\r\n}\r\nexport class Unit {\r\n    type: UnitType = UnitType.PX\r\n    value: number = 0\r\n    static _isTypeEqual (...args: Unit[]) : boolean {\r\n        // if (v1.type == v2.type) return true\r\n        // else return false\r\n        if (args.length == 0) return false\r\n        else {\r\n            return args.every(arg => arg.type == args[0].type)\r\n        }\r\n    }\r\n    // static isTypeComputeable (v1: Unit, v2: Unit) : boolean {\r\n    //     if (v1.type != 'auto' && v2.type != 'auto') return true\r\n    //     else return false\r\n    // }\r\n    static _compute (sign: (v1: number, v2: number) => number, ...args: Unit[]) : Unit {\r\n        if (Unit._isTypeEqual(...args)) {\r\n            const unitType = args[0].type\r\n            return new Unit(args.reduce((prev, cur) => {\r\n                return new Unit(sign(prev.value, cur.value), unitType)\r\n            }).value, unitType)\r\n        } else {\r\n            throw new Error('types not equal')\r\n        }\r\n    }\r\n    static add (...args: Unit[]) : Unit {\r\n        return Unit._compute((a, b) => {return a + b}, ...args)\r\n    }\r\n    static sub (...args: Unit[]) : Unit {\r\n        return Unit._compute((a, b) => {return a - b}, ...args)\r\n    }\r\n    static mul (...args: Unit[]) : Unit {\r\n        return Unit._compute((a, b) => {return a * b}, ...args)\r\n    }\r\n    static div (...args: Unit[]) : Unit {\r\n        return Unit._compute((a, b) => {return a / b}, ...args)\r\n    }\r\n    \r\n    constructor (value: string | number, type: UnitType = UnitType.PX) {\r\n        if (typeof value == 'string') {\r\n            if (value == 'auto') {\r\n                this.value = NaN\r\n                this.type = UnitType.Auto\r\n            } else {\r\n                const valueAndType = value.split(/(.+)(px|rem|%)/)\r\n                if (valueAndType) {\r\n                    valueAndType.pop()\r\n                    valueAndType.shift()\r\n                    this.value = Number(valueAndType[0])\r\n                    const type = valueAndType[1]\r\n                    switch (type) {\r\n                        case 'px':\r\n                            this.type = UnitType.PX\r\n                            break\r\n                        case 'rem':\r\n                            this.type = UnitType.REM\r\n                            break\r\n                        case '%':\r\n                            this.type = UnitType.Percent\r\n                            break\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.value = value\r\n            this.type = type\r\n        }\r\n    }\r\n    toString () {\r\n        return this.value + this.type.toString()\r\n    }\r\n    copy (val: Unit) {\r\n        this.value = val.value\r\n        this.type = val.type\r\n    }\r\n}\r\nexport class PixelUnit extends Unit {\r\n    constructor (value: number | string) {\r\n        super(value)\r\n    }\r\n}\r\n\r\nexport class AutoUnit extends Unit {\r\n    constructor () {\r\n        super('auto')\r\n    }\r\n}\r\n\r\nexport class PercentUnit extends Unit {\r\n    constructor (value: string | string) {\r\n        super(value, UnitType.Percent)\r\n    }\r\n}\r\n\r\nexport abstract class Box {\r\n    left: Unit = new Unit(0)\r\n    right: Unit = new Unit(0)\r\n    top: Unit = new Unit(0)\r\n    bottom: Unit = new Unit(0)\r\n    constructor (box? :{\r\n        left?: Unit,\r\n        right?: Unit,\r\n        top?: Unit,\r\n        bottom?: Unit,\r\n    }) {\r\n        if (box) {\r\n            if (box.left) this.left = box.left\r\n            if (box.right) this.right = box.right\r\n            if (box.top) this.top = box.top\r\n            if (box.bottom) this.bottom = box.bottom\r\n        }\r\n    }\r\n}\r\n\r\nexport class Padding extends Box {}\r\n\r\nexport class Margin extends Box {}\r\n\r\nexport class Color {\r\n    r: number = 0\r\n    g: number = 0\r\n    b: number = 0\r\n    static hexToNumber (s: string) {\r\n        function hexCharToNumber (char: string) {\r\n            switch (char) {\r\n                case 'a':\r\n                    return 10\r\n                case 'b':\r\n                    return 11\r\n                case 'c':\r\n                    return 12\r\n                case 'd':\r\n                    return 13\r\n                case 'e':\r\n                    return 14\r\n                case 'f':\r\n                    return 15\r\n                default:\r\n                    return Number(char)\r\n            }\r\n        }\r\n        const c1 = s[0]\r\n        const c2 = s[1]\r\n        return hexCharToNumber(c1) * hexCharToNumber(c2)\r\n    }\r\n    constructor (r: string | number, g: number = 0, b: number = 0) {\r\n        if (typeof r == 'string') {\r\n            if (r[0] != '#') throw new Error('valid hex type')\r\n            r = r.replace(/^\\#/, '')\r\n            this.r = Number(Color.hexToNumber(r.slice(0, 2)))\r\n            this.g = Number(Color.hexToNumber(r.slice(2, 4)))\r\n            this.b = Number(Color.hexToNumber(r.slice(4, 6)))\r\n        } else {\r\n            this.r = r\r\n            this.g = g\r\n            this.b = b\r\n        }\r\n    }\r\n}\r\n\r\nclass BorderStyle {\r\n\r\n}\r\n\r\nclass BackgroundStyle {\r\n\r\n}\r\n\r\n\r\n\r\nclass ElementStyle {\r\n    border?: BorderStyle\r\n    background?: BackgroundStyle\r\n}\r\n\r\nclass TextStyle {\r\n    // fontSize\r\n    // fontColor\r\n    // fontWeight\r\n}\r\n\r\nclass FlexItem {\r\n    flex: number = 1\r\n}\r\n\r\ninterface Layout {\r\n\r\n}\r\n\r\ninterface FlexItem {\r\n    flex: number\r\n}\r\n\r\nclass AbsoluteLayout {\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/style.ts","import { Manager } from \"./manager\";\r\nimport { RenderContainer, RenderObject, RootContainer, FlexContainer, FlexItem } from \"./render\";\r\nimport { Unit, UnitType } from \"./render/style\";\r\nimport {CanvasElement} from './canvas'\r\n\r\n// import { Stage, TextElement, CircleElement } from \"./objects/RenderObject\";\r\n// import { RenderContainer, RenderElement, FlexLayoutContainer, AbsoluteLayoutContainer } from \"./graphics/Render\";\r\n// import { Grid } from \"./Grid\";\r\n// 样式布局、实体关系、数据关联\r\n\r\n// const stage = new Stage('#app', 500, 400)\r\n\r\n// // const table = new RenderContainer\r\n\r\n// const bbaa = new CircleElement({\r\n//     id: 'cc',\r\n//     drawAttr: {\r\n//         borderWidth: 1,\r\n//         borderColor: '#ff3030',\r\n//     },\r\n//     layoutAttr: {\r\n//         width: 100,\r\n//         height: 100,\r\n//     }\r\n// })\r\n// console.log(bbaa)\r\n// const a = new RenderContainer ({\r\n//     id: 'aaa',\r\n//     children: [new TextElement({\r\n//         id: 'ac',\r\n//         text: '123',\r\n//     }), bbaa]\r\n// })\r\n\r\n// const b = new FlexLayoutContainer({\r\n//     id: 'ffe',\r\n//     layoutAttr: {\r\n//         width: 100,\r\n//         height: 200,\r\n//     }\r\n// })\r\n// const c = new AbsoluteLayoutContainer({\r\n//     id: 'ab',\r\n//     children: [\r\n//         new TextElement({\r\n//             id: 'bbbaaa',\r\n//             text: '1233',\r\n//         })\r\n//     ],\r\n// })\r\n// console.log(b, c)\r\n// console.log(a.id, a.children[0].id)\r\n// a.coord.x = new Grid(1)\r\n// a.coord.y = new Grid(1)\r\n// console.log(a.coord)\r\n\r\n// stage.addChild(a)\r\nconst aaa = `\r\n    container: flexLayout, absoluteLayout\r\n\r\n`\r\n\r\nconst Child2Style = {}\r\nconsole.log(new Unit(500))\r\nconst c = document.getElementById('canvas')  as HTMLCanvasElement\r\nif (c) {\r\n    const ctx = c.getContext('2d') as CanvasRenderingContext2D\r\n    const a = new FlexContainer ({\r\n        id: 'child2.container',\r\n        flex: 1,\r\n        children: [\r\n            new CanvasElement ({\r\n                class: 'tt',\r\n                ctx,\r\n            }),\r\n            new CanvasElement ({\r\n                class: 'tt',\r\n                ctx,\r\n            }),\r\n            new CanvasElement ({\r\n                class: 'tt',\r\n                ctx,\r\n            }),\r\n            new CanvasElement ({\r\n                class: 'tt',\r\n                ctx,\r\n            }),\r\n        ],\r\n    })\r\n    const b = new CanvasElement ({\r\n        id: 'child1',\r\n        ctx,\r\n        height: new Unit(50),\r\n        // width: new Unit(120),\r\n    })\r\n    const root = new RootContainer({\r\n        id: 'root',\r\n        width: new Unit(500),\r\n        height: new Unit(500),\r\n        children: [\r\n            b,\r\n            a,\r\n            new CanvasElement ({\r\n                id: 'child33',\r\n                ctx,\r\n            }),\r\n        ],\r\n    })\r\n    setTimeout(() => {\r\n        a.flex = 2\r\n    }, 1000)\r\n    \r\n    setTimeout(() => {\r\n        a.height = new Unit(50)\r\n        a.width = new Unit(150)\r\n    }, 2000)\r\n    const manager = new Manager(ctx)\r\n    manager.manage(root)\r\n    console.log(root)\r\n}\r\n\r\n// console.log(a)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import {RenderObject, RenderContainer } from \"./render\";\r\ntype Node = RenderObject | RenderContainer\r\nabstract class BaseManager {\r\n    root: Node\r\n    constructor (root: Node) {\r\n        this.root = root\r\n        // window.requestAnimationFrame(() => {\r\n        //     this.renderFrame()\r\n        // })\r\n    }\r\n    // renderFrame () {\r\n    //     window.requestAnimationFrame(() => {\r\n    //         this.renderFrame()\r\n    //     })\r\n    // }\r\n}\r\nexport class ComputeManager extends BaseManager {\r\n    computeStyle (node: Node) {\r\n        node.computeStyle()\r\n        if (node.isContainable()) {\r\n            (node as RenderContainer).forEach(child => {\r\n                this.computeStyle(child as RenderObject)\r\n            })\r\n        }\r\n    }\r\n    renderFrame () {\r\n        this.computeStyle(this.root)\r\n        // super.renderFrame()\r\n    }\r\n}\r\nexport class DrawManager extends BaseManager {\r\n    draw (node: Node) {\r\n        node.draw()\r\n        if (node.isContainable()) {\r\n            (node as RenderContainer).forEach(child => {\r\n                this.draw(child as RenderObject)\r\n            })\r\n        }\r\n    }\r\n    renderFrame () {\r\n        this.draw(this.root)\r\n    }\r\n}\r\n\r\nexport class LayoutManager extends BaseManager {\r\n    layout (node: Node) {\r\n        node.layout()\r\n        if (node.isContainable()) {\r\n            (node as RenderContainer).forEach(child => {\r\n                this.layout(child as RenderObject)\r\n            })\r\n        }\r\n    }\r\n    renderFrame () {\r\n        this.layout(this.root)\r\n    }\r\n}\r\nexport class Manager {\r\n    ctx?: CanvasRenderingContext2D\r\n    compute?: ComputeManager\r\n    draw?: DrawManager\r\n    layout?: LayoutManager\r\n    root?: Node\r\n    constructor (ctx?: CanvasRenderingContext2D) {\r\n        this.ctx = ctx\r\n    }\r\n    manage (root: Node) {\r\n        this.root = root\r\n        this.compute = new ComputeManager(root)\r\n        this.layout = new LayoutManager(root)\r\n        this.draw = new DrawManager(root)\r\n        window.requestAnimationFrame(() => {\r\n            this.renderFrame()\r\n        })\r\n    }\r\n    renderFrame () {\r\n        if (this.root) {\r\n            this.ctx && this.ctx.clearRect(0, 0, this.root.width.value, this.root.height.value)\r\n        }\r\n        this.ctx && this.ctx.save()\r\n        this.compute && this.compute.renderFrame()\r\n        this.layout && this.layout.renderFrame()\r\n        this.draw && this.draw.renderFrame()\r\n        window.requestAnimationFrame(() => {\r\n            // this.renderFrame()\r\n        })\r\n        this.ctx && this.ctx.restore()\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager.ts","import { FlexItem, FlexContainer, ObjectCons, FlexContainerCons } from \"../render\";\r\ninterface Context {\r\n    ctx: CanvasRenderingContext2D\r\n}\r\ninterface CanvasElementCons extends ObjectCons {\r\n    ctx: CanvasRenderingContext2D\r\n}\r\nfunction color16(){//十六进制颜色随机\r\n    var r = Math.floor(Math.random()*256);\r\n    var g = Math.floor(Math.random()*256);\r\n    var b = Math.floor(Math.random()*256);\r\n    var color = '#'+r.toString(16)+g.toString(16)+b.toString(16);\r\n    return color;\r\n}\r\nexport class CanvasElement extends FlexItem implements Context {\r\n    ctx: CanvasRenderingContext2D\r\n    constructor (cons: CanvasElementCons ) {\r\n        super(cons)\r\n        this.ctx = cons.ctx\r\n    }\r\n    draw () {\r\n        this.ctx.fillStyle = color16()\r\n        this.ctx.beginPath()\r\n        this.ctx.moveTo(this.globalX, this.globalY)\r\n        this.ctx.lineTo(this.globalX + this.computedWidth.value, this.globalY)\r\n        this.ctx.lineTo(this.globalX + this.computedWidth.value, this.globalY + this.computedHeight.value)\r\n        this.ctx.lineTo(this.globalX, this.globalY + this.computedHeight.value)\r\n        this.ctx.lineTo(this.globalX, this.globalY)\r\n        this.ctx.stroke()\r\n        this.ctx.closePath()\r\n        this.ctx.fillRect(this.globalX, this.globalY, this.computedWidth.value, this.computedHeight.value)\r\n    }\r\n}\r\ninterface CanvasContainerCons extends FlexContainerCons {\r\n    ctx: CanvasRenderingContext2D\r\n}\r\nclass CanvasContainer extends FlexContainer {\r\n    ctx: CanvasRenderingContext2D\r\n    constructor (cons: CanvasElementCons ) {\r\n        super(cons)\r\n        this.ctx = cons.ctx\r\n    }\r\n    draw () {\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/canvas/index.ts"],"sourceRoot":""}